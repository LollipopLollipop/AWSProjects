<!DOCTYPE html><html><head xmlns:md="http://oli.web.cmu.edu/metadata/"><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta content="IE=9" http-equiv="X-UA-Compatible"><meta content="/repository/presentation/whirlwind-1.2/" name="themePath"><title>Introduction</title><base href="https://oli.cmu.edu/repository/webcontent/fda7217280020ca6017598f75d250b76/projects/_p02_project_2/_p02_m02_elb/x-oli-workbook_page/_p02_m02_1_elb.xml"><link rel="StyleSheet" type="text/css" href="/repository/presentation/whirlwind-1.2/web/styles/reset.css"><link rel="StyleSheet" type="text/css" href="/repository/presentation/whirlwind-1.2/web/styles/learning_content.css"><link rel="StyleSheet" type="text/css" href="/repository/presentation/whirlwind-1.2/web/styles/azool.css"><link rel="StyleSheet" type="text/css" href="/repository/presentation/whirlwind-1.2/web/styles/style.css"><link rel="StyleSheet" type="text/css" href="/repository/presentation/whirlwind-1.2/web/styles/mBoxCore.css"><link rel="StyleSheet" type="text/css" href="/repository/presentation/whirlwind-1.2/web/styles/mBoxModal.css"><!--[if lte IE 7.0]>
        <link rel="stylesheet" href="/repository/presentation/whirlwind-1.2/web/styles/ie/ie7.css" type="text/css" />
        <![endif]-->
        <!--[if lte IE 6]>
        <link rel="stylesheet" href="/branding/css/ielte6.css" type="text/css" />
        <![endif]--><link rel="StyleSheet" type="text/css" href="/repository/presentation/whirlwind-1.2/web/workbook_page/workbook_page.css"><!--[if IE 7]><![endif]--><script src="/repository/presentation/whirlwind-1.2/web/scripts/swfobject.js" type="text/javascript"></script><script src="/repository/presentation/whirlwind-1.2/web/scripts/mootools-core-1.4.5-full-compat.js" type="text/javascript"></script><script src="/repository/presentation/whirlwind-1.2/web/scripts/mootools-more-1.4.0.1.js" type="text/javascript"></script><script src="/repository/presentation/whirlwind-1.2/web/scripts/mootests.js" type="text/javascript"></script><script src="/repository/presentation/whirlwind-1.2/web/scripts/mBox.Core.min.js" type="text/javascript"></script><script src="/repository/presentation/whirlwind-1.2/web/scripts/mBox.Modal.min.js" type="text/javascript"></script><script src="/repository/presentation/whirlwind-1.2/web/scripts/azool.js" type="text/javascript"></script><script src="/oa.js" type="text/javascript"></script><script type="text/javascript" src="/repository/presentation/whirlwind-1.2/web/workbook_page/workbook_page.js">//</script><script type="text/javascript">var AZ = AZ ? AZ : {};
AZ.d = {'courseKey': 'F14-CC-PSA', 'pageNumber': '161'};

/* <![CDATA[ */
swfobject.embedSWF('../webcontent/youplayer.swf',
 'o_i_4',
 '640',
 '480',
 '10.2',
 (Browser.Platform.mac ? null : '/repository/presentation/whirlwind-1.2/web/scripts/expressInstall.swf'),
{'movie_identifier':'_i_4', 'version':'10.2', 'expressinstall':'%2Frepository%2Fpresentation%2Fwhirlwind-1.2%2Fweb%2Fscripts%2FexpressInstall.swf', 'log_service_url':'%2Flog%2Fserver', 'user_guid':'dingz%40andrew.cmu.edu', 'session_id':'1c9670f380020ca600ba8cf7e8309e55', 'auth_token':'s%3D1c9670f380020ca600ba8cf7e8309e55%26u%3Ddingz%40andrew.cmu.edu%26h%3D1875afe0f644fa4f255efe8eb57dd363', 'container_id':'0e4f806e80020ca600a9bc160ed251b7', 'source_id':'FLASH_PSEUDO_TUTOR', 'dataset_name':'F14-CC-PSA', 'problem_name':'youplayer', 'school_name':'Carnegie+Mellon+University', 'class_name':'F14-CC-PSA', 'class_description':'15319%2F15619+Cloud+Computing+%28Fall+2014%29%3A+Aug+2014+-+Jan+2015', 'video_id':'WsGpj5eZaS4', 'fs':'1', 'object_height':'480', 'object_width':'640', 'br':'br',},
 {
			
			scale: 'showall', allowScriptAccess: 'always', swLiveConnect: 'true', 
			wmode: 'white'},
 {},
 false);
  /* ]]> */

/* <![CDATA[ */
swfobject.embedSWF('../webcontent/youplayer.swf',
 'o_i_7',
 '640',
 '480',
 '10.2',
 (Browser.Platform.mac ? null : '/repository/presentation/whirlwind-1.2/web/scripts/expressInstall.swf'),
{'movie_identifier':'_i_7', 'version':'10.2', 'expressinstall':'%2Frepository%2Fpresentation%2Fwhirlwind-1.2%2Fweb%2Fscripts%2FexpressInstall.swf', 'log_service_url':'%2Flog%2Fserver', 'user_guid':'dingz%40andrew.cmu.edu', 'session_id':'1c9670f380020ca600ba8cf7e8309e55', 'auth_token':'s%3D1c9670f380020ca600ba8cf7e8309e55%26u%3Ddingz%40andrew.cmu.edu%26h%3D1875afe0f644fa4f255efe8eb57dd363', 'container_id':'0e4f806e80020ca600a9bc160ed251b7', 'source_id':'FLASH_PSEUDO_TUTOR', 'dataset_name':'F14-CC-PSA', 'problem_name':'youplayer', 'school_name':'Carnegie+Mellon+University', 'class_name':'F14-CC-PSA', 'class_description':'15319%2F15619+Cloud+Computing+%28Fall+2014%29%3A+Aug+2014+-+Jan+2015', 'video_id':'MchfwYakgWU', 'fs':'1', 'object_height':'480', 'object_width':'640', 'br':'br',},
 {
			
			scale: 'showall', allowScriptAccess: 'always', swLiveConnect: 'true', 
			wmode: 'white'},
 {},
 false);
  /* ]]> */
</script><link type="text/css" rel="stylesheet" href="/repository/presentation/whirlwind-1.2/web/styles//syntax/shCore.css"><link type="text/css" rel="stylesheet" href="/repository/presentation/whirlwind-1.2/web/styles//syntax/shThemeEclipse.css"><script src="/repository/presentation/whirlwind-1.2/web/scripts//syntax/shCore.js" type="text/javascript"> </script><script src="/repository/presentation/whirlwind-1.2/web/scripts//syntax/shBrushPlain.js" type="text/javascript"> </script><script type="text/javascript">SyntaxHighlighter.config.clipboardSwf = '/repository/presentation/whirlwind-1.2/web/scripts//syntax/clipboard.swf';SyntaxHighlighter.all();</script></head><body class="workbook_page"><div class="contain"><div role="banner" class="header"><div class="oliClassTitle"><a class="logo"></a><h1><a title="15319/15619 Cloud Computing (Fall 2014)" href="/jcourse/lms/students/syllabus.do?section=0e4f7c4380020ca600aa44ba1eaf4b1e">15319/15619 Cloud Computing (Fall 2014)</a></h1></div><div aria-label="system" role="navigation" class="user"><h3>System Navigation</h3><ul class="userCredentials"><li class="userName"><a title="Edit my account" id="username" href="/jcourse/webui/myaccount/edit.do?user=dingz@andrew.cmu.edu">Ding ZHAO</a></li> <li class="login"><a title="Logout of the Open Learning Initiative." class="signout" href="/jcourse/webui/logout.do?from=0e4f806e80020ca600a9bc160ed251b7">
                            [  Sign Out  ]
						</a></li></ul><div class="clear"></div><ul class="userHelp"><li><a title="Access Key + C" accesskey="C" class="home" id="myCourses" href="/jcourse/webui/myhome.do">My Courses</a>|
				</li><li><a title="Access Key + S" accesskey="S" class="mimetypes_x-office-address-book" id="syllabus" href="/jcourse/lms/students/syllabus.do?section=0e4f7c4380020ca600aa44ba1eaf4b1e">Syllabus</a>|
			</li><li><span class="coursenav"> <a class="active" href="/jcourse/webui/syllabus/outline.do?section=0e4f7c4380020ca600aa44ba1eaf4b1e&from=0e4f806e80020ca600a9bc160ed251b7">
	      
	        
			Outline
	    </a></span>|
			</li><li><a onclick="openMdWin(this.href, 'activity');return false;" title="Ask OLI technical support team" href="/jcourse/webui/help.do">Help</a>|
			</li><li id="moreBtn2"><a aria-haspopup="true" href="" tabindex="" title="More" accesskey="M" id="moreBtn">
					More
				</a></li></ul></div><div class="shadowOne" id="wn"><span class="controlpanel"> <a target="_blank" href="/jcourse/GradebookClient/index.html?myscores&section=0e4f7c4380020ca600aa44ba1eaf4b1e&col=0e4f806c80020ca6018cb1867646cfa9"><span class="gradebook">My Scores</span></a><a href="/jcourse/webui/mycourses/reports/practice.do?section=0e4f7c4380020ca600aa44ba1eaf4b1e&context=0e4f806c80020ca6018cb1867646cfa9"><span class="studentDashboard">Available Practice</span></a></span><span class="supportPanel"> <a title="Check if my computer is configured properly for this course." href="/jcourse/webui/help/configure/redirect.do?section=0e4f7c4380020ca600aa44ba1eaf4b1e"><span class="categories_preferences-system">Test My System</span></a> <a title="Send email to Majd Sakr" href="mailto:msakr@ANDREW.CMU.EDU"><span class="actions_mail-message-new">Email Sakr</span></a> <a onclick="openMdWin(this.href, 'activity');return false;" class="wnTechSupport" title="Ask OLI technical support team" href="/jcourse/webui/help.do"><span class="actions_mail-message-new">Email Tech Support</span></a></span></div></div><div aria-haspopup="true" aria-label="Unit" role="navigation" class="lessonHead"><h2 tabindex="" accesskey="u" id="0e4f805b80020ca6003d5223beb6c69f"><a tabindex="" href="javascript:;"><span>Unit&nbsp;::</span>Project 2</a></h2></div><div class="expand shadowOne"><ul id="topLvl"></ul></div><div aria-label="module, page" role="navigation" class="subNavigation"><a aria-label="previous, module" role="navigation" accesskey="," class="prev oneclick" href="javascript:;"></a><a aria-label="next, module" role="navigation" accesskey="." class="next oneclick" href="javascript:;"></a><div class="module"><ul id="moduleUl"><li><a id="0e4f805d80020ca601b79285e8642616" title="Module  Introduction and APIs" rel="" href="/jcourse/webui/syllabus/module.do?context=0e4f805d80020ca601b79285e8642616"><b><span>Introduction and APIs</span></b></a></li><li class="current"><a id="0e4f806c80020ca6018cb1867646cfa9" title="Module  Elastic Load Balancing" rel="" href="/jcourse/webui/syllabus/module.do?context=0e4f806c80020ca6018cb1867646cfa9"><b><span>Elastic Load Balancing</span></b></a></li><li><a id="0e4f807580020ca601ef5d1cc06eb368" title="Module  AutoScaling on Amazon" rel="" href="/jcourse/webui/syllabus/module.do?context=0e4f807580020ca601ef5d1cc06eb368"><b><span>AutoScaling on Amazon</span></b></a></li></ul></div><div class="subMenu shadowOne" id="subMenuExpand"><ul id="jsonSubMenu"></ul></div></div><div class="searchBox"><form method="get" action="/jcourse/search/search.do" id="searchForm"><input value="0e4f7c4380020ca600aa44ba1eaf4b1e" type="hidden" name="section" class="sectionGUID"><input placeholder="Search this course" onBlur="this.setAttribute('value', this.value);" value="" size="25" id="q" type="text" name="q" class="q"><input value="0e4f806e80020ca600a9bc160ed251b7" type="hidden" name="from" class="contextGUID"></form></div><div class="opacity"><div role="main" class="content shadowTwo"><div id="oli-message"><!----></div><div id="paginationtopwrap"><div class="clearfix" id="paginationtop"><div class="pagtopwrapwrap"><div class="pagtopwrap"><div aria-label="page" role="navigation" class="pagtop"><a aria-label="previous" role="navigation" title="The MSB Recruitment Exam" class="prev oneclick degree2" accesskey="Ctrl+Arrow Left" href="/jcourse/workbook/activity/page?context=0e4f806980020ca6014b700d3642cb81"></a> <a aria-label="previous" role="navigation" title="Elastic Load Balancing" class="prev oneclick degree1" accesskey="Ctrl+Arrow Left" href="/jcourse/webui/syllabus/module.do?context=0e4f806c80020ca6018cb1867646cfa9"></a> <span class="pagnum"><form method="get" class="pageForm" style="" action="/jcourse/webui/syllabus/page.do?section=0e4f7c4380020ca600aa44ba1eaf4b1e"><label for="pagenumnewinput"><span style="display:none" class="pageTip" id="pagnumtip">Enter Page 1-185, then press Enter</span></label><input value="185" type="hidden" class="pageMax"><input size="4" autocomplete="off" value="161" type="text" class="paginationInput"> </form></span><a aria-label="next" role="navigation" title="Next: A Day at the MSB (with AutoScaling)" accesskey="Ctrl+Arrow Right" class="next oneclick degree1" href="/jcourse/workbook/activity/page?context=0e4f807080020ca601e38630e32759ef"></a></div></div></div><h3><a href="/jcourse/webui/syllabus/module.do?context=0e4f806c80020ca6018cb1867646cfa9" class="module-heading"></a>Introduction</h3></div></div><div id="lobjh" class="multi"><h3>Learning Objectives</h3><ul><li><div class="" id="p02_m02_elb">Configure and Deploy an Elastic Load Balancer on AWS</div><div class="" id="p02_m02_aws">Configure and Deploy Auto Scaling using Cloud Watch alarms on AWS</div></li></ul></div><div class="contentContain">
	
	<p>Congratulations on joining the Massive Surveillance Bureau.</p>
	
	<p>Your mission, should you choose to accept it, is to design a
	scalable data center to handle requests from the agents in a timely
	manner. On this page, we introduce the AWS tools that will help you 
	design such a data center. On the next page, we describe the test 
	that you must complete in order to answer the next checkpoint quiz.</p>

	<p>
		Once again, you have two types of instances - the load generator (<code>ami-32d37a5a</code>)
		 and the data center (<code>ami-ec14ba84</code>).
	</p>
	
	<p>Agents submit tracking requests for "suspects" which get forwarded
	to the web service running
	at the data center instance at the URL:
</p>
	
	<div><pre class="brush: text; gutter: false; ">http://&lt;your-data-center-dns&gt;/track-person?firstName=&lt;targetfname&gt;&amp;lastName=&lt;targetlname&gt;
	</pre></div>

	<p>The page returns the person's latitude and longitude, along with the
		source for this information. For example:</p>
	
	
	<div class="image shouldbeleft"><img src="../webcontent/msb_screenshot_1.png" id="_i_0" class=" popimg" onclick="loadImageFromPage(this);"></div>

	<p>Unfortunately, working the real world of surveillance is not as
		comfortable as the training assignment (Project 2.1). One of the
		biggest problems faced by the MSB is that it is often the target for
		DDoS attacks from various sources. This severely impacts their network
		performance, and makes it difficult for them to respond to good
		traffic in a short period of time.
	</p>
	
	<p>These DDoS attacks are generally short spikes of attack traffic
	before the network defenses neutralize it. However, while those spikes
	occur, you should provision more instances to meet your performance
	guarantees.
</p>
		<div id="N10708" class="section"><div class="sectionContain ">
			<h2>Elastic Load Balancer</h2>
			
			
	<p>You have already been introduced to the Elastic Load Balancer, which
		acts as a network router that sends incoming requests to multiple EC2
		instances sitting behind it in a round-robin fashion. Round-robin
		scheduling is not perfect, but it does an adequate job given a large
		number of users, each with relatively simple requests. The instances
		it points to can be added manually through the web console,
		programmatically through an API, or dynamically with an Auto Scaling
		Group. It also does a Health Check to see if the host is alive (if
		not, it will stop sending requests to it). Using an ELB costs $0.025
		per hour + $0.008 per GB transferred through it.</p>

				
	<p>Last week, you were introduced to the ELB, but not the APIs. Apart from 
	the web console, you can programmatically interact
	with an Elastic Load Balancer in many ways, including:</p>
			
	
	<ol><li>The AWS Command Line Interface (<a href="http://docs.aws.amazon.com/cli/latest/reference/elb/index.html" id="_i_1" target="_blank">AWS CLI</a>)</li><li>The <a href="http://aws.amazon.com/sdk-for-java/ " id="_i_2" target="_blank">AWS SDK for Java</a></li><li><a href="http://boto.readthedocs.org/en/latest/elb_tut.html" id="_i_3" target="_blank">boto</a> for Python</li></ol>
			<p>We will give you more information about working with these APIs after introducing the next section on Auto Scaling.</p>
		
	
	</div></div>
	
		<div id="N10733" class="section"><div class="sectionContain ">
			<h2>Amazon Auto Scaling</h2>
			
	
	
			<p>Amazon's Auto Scaling service automatically adds or removes
			computing resources allocated to an application, by responding to
			changes in demand. AWS Auto Scaling refers to horizontal scaling, which is the act of increasing or
			decreasing the compute capacity of an application by changing the
			number of servers assigned to it. This is in contrast to vertical
			scaling, which is achieved by changing the size of individual servers in
			response
			to demand (such as changing <code>m1.small</code> to <code>m1.large</code>), and is currently not supported by AWS Auto
			Scaling. Amazon
			Auto Scaling can be accessed through command-line
			tools or through
			APIs in the SDK. The following video explains
			AutoScaling:

		</p>
		



		<div class="activitywrap  flash"><div class="activityhead"><!----><div class="activityinfo"><!----></div></div><div class="actContain"><div class="activity flash"><div style="min-width:640px;min-height:480px;" class="flash_obj" id="_i_4"><div id="o_i_4"><div style="width:640px;height:125px;" class="noflash"><div class="code"><p>Adobe Flash Player is required.</p><p><a target="_blank" href="http://get.adobe.com/flashplayer/">Get
									Adobe<sup>&reg;</sup> Flash<sup>&reg;</sup> Player.</a></p><p><a target="_blank" href="/jcourse/webui/help/configure/redirect.do?section=0e4f7c4380020ca600aa44ba1eaf4b1e">Test My System</a></p></div></div></div></div> </div></div><div class="captionwrap"><span class="caption">Autoscaling</span></div></div>



		<p>Amazon's Auto Scaling provides the following deployment modes on a
			group of EC2 instances:
		</p>

		<ul><li>Maintain a fixed number of running EC2 instances at all times, by
				performing periodic health checks
				on instances and automatically
				launching new instances when one or
				more are unhealthy;
			</li><li>Scale instances by invoking Auto Scaling manually, which
				will increase or decrease the number
				of running instances on your
				behalf;
			</li><li>Predictable scaling based on a developer-specified schedule (for
				example, a condition you could specify to decrease the
				servers every
				Friday at 5 p.m. and to increase them every Monday at 8 a.m);
			</li><li>Dynamically scale based on conditions specified by the developer
				(for example, CPU utilization of your
				EC2 instances).
			</li></ul>

	
	</div></div>
		<div id="N1076A" class="section"><div class="sectionContain ">
			<h2>Using Elastic Load Balancing and Auto Scaling to mitigate DDoS
			</h2>
			
				<p>A use case for Auto Scaling is dynamic infrastructure management.
					In
					the case of MSB, it should be clear how Auto Scaling can help
					deal with
					variable traffic patterns. As the traffic increases and
					the load on
					the
					servers increases, the number of servers can be
					increased dynamically.
					Similarly, as the traffic decreases and the
					load on the servers
					decreases, the number of servers can be
					decreased dynamically. In
					that
					sense, we can program Auto Scaling to
					respond to changes in CPU load (or other metrics) of
					provisioned servers.
				</p>

				<span class="imagewrap"><span class="image"><img src="../webcontent/autoscaling.png" id="_i_5" class=" popimg" onclick="loadImageFromPage(this);"></span><span class="caption">Auto Scaling Architecture in Amazon EC2.</span></span>
		
		</div></div>

				<div id="N1077E" class="section"><div class="sectionContain ">
					<h2>AWS Auto Scaling Internals
					</h2>
					
						<p>Using Amazon's Auto Scaling in a dynamic fashion requires, at
							minimum, the following:
						</p>
						<ul><li>
								An Auto Scaling
								<em>group</em>
								should be defined with minimum, maximum and desired
								number of
								instances defined during the group creation. More
								information can
								be found
								<a href="http://docs.aws.amazon.com/AutoScaling/latest/DeveloperGuide/US_BasicSetup.html#createautoscalinggroup" id="_i_6" target="_blank">here</a>
								on
								creating auto scaling groups.
							</li><li>
								A
								<em>launch configuration</em>
								template should be defined, which includes the AMI ID, instance
								types,
								key pairs and security group information, among others. As
								Auto
								Scaling is meant to scale automatically
								based on
								application demands; i.e. the instance should be configured to
								automatically start the required application services
								and work
								seamlessly on launch.
							</li><li>
								An Auto Scaling
								<em>policy</em>
								should be created, which defines the set of actions to perform
								when an event,
								such as a CloudWatch alarm, is triggered.
							</li></ul>

						<p>The following video will demonstrate how you can use
							autoscaling:
						</p>

						<div class="activitywrap  flash"><div class="activityhead"><!----><div class="activityinfo"><!----></div></div><div class="actContain"><div class="activity flash"><div style="min-width:640px;min-height:480px;" class="flash_obj" id="_i_7"><div id="o_i_7"><div style="width:640px;height:125px;" class="noflash"><div class="code"><p>Adobe Flash Player is required.</p><p><a target="_blank" href="http://get.adobe.com/flashplayer/">Get
									Adobe<sup>&reg;</sup> Flash<sup>&reg;</sup> Player.</a></p><p><a target="_blank" href="/jcourse/webui/help/configure/redirect.do?section=0e4f7c4380020ca600aa44ba1eaf4b1e">Test My System</a></p></div></div></div></div> </div></div><div class="captionwrap"><span class="caption">Autoscaling Demo</span></div></div>
						
						<p>In the next section, you will be asked to implement a program that
							uses the concepts of Load Balancing and Auto Scaling to handle traffic
							sent to the MSB.
						</p>
					
				</div></div>

		
	
		
	</div></div></div><div class="paginationBt"><div class="pagtopwrapwrap2"><div class="pagtopwrap2"><div aria-label="page" role="navigation" class="pagtop2"><a aria-label="previous" role="navigation" title="The MSB Recruitment Exam" class="prev oneclick degree2" accesskey="Ctrl+Arrow Left" href="/jcourse/workbook/activity/page?context=0e4f806980020ca6014b700d3642cb81"></a> <a aria-label="previous" role="navigation" title="Elastic Load Balancing" class="prev oneclick degree1" accesskey="Ctrl+Arrow Left" href="/jcourse/webui/syllabus/module.do?context=0e4f806c80020ca6018cb1867646cfa9"></a> <span class="pagnum2"><form method="get" class="pageForm2" action="/jcourse/webui/syllabus/page.do?section=0e4f7c4380020ca600aa44ba1eaf4b1e"><label for="pagenumnewinput"><span style="display:none" class="pageTip2">Enter Page 1-185, then press Enter</span></label><input value="185" type="hidden" class="pageMax2"><input size="1" autocomplete="off" value="161" type="text" class="paginationInput2"> </form></span><a aria-label="next" role="navigation" title="Next: A Day at the MSB (with AutoScaling)" accesskey="Ctrl+Arrow Right" class="next oneclick degree1" href="/jcourse/workbook/activity/page?context=0e4f807080020ca601e38630e32759ef"></a></div></div></div></div><div role="contentinfo" id="tinyfooter"><a class="oli" href="/">Open Learning Initiative</a><br><span class="license" title="Creative Commons License"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license"><img src="https://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License"></a> Unless otherwise noted this work is licensed under a <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
			</span></div></div></body></html>